if("undefined"==typeof jQuery)throw new Error("Koma Plugin's JavaScript requires jQuery");+function(a){"use strict";var t={ratio_x:1,ratio_y:1,responsive:null};a.fn.imageFill=function(r){var e=a.extend({},t,r),i="koma-imgFill",o=e.ratio_x,n=e.ratio_y;if(null!=e.responsive){var s,m=a(window).width();for(s in e.responsive)if(m<=s){o=e.responsive[s].ratio_x,n=e.responsive[s].ratio_y;break}}return this.each(function(){var t=a(this);t.before('<div ratio-x="'+o+'" ratio-y="'+n+'" class="'+i+'"></div>');var r=t.attr("src"),e=t.attr("alt"),s=t.attr("title");e=e||"",s=s||"",t.siblings("."+i).append('<img src="'+r+'" alt="'+e+'" title="'+s+'">');var m=t.siblings("."+i),g=m.children("img"),l=this,c=l.naturalWidth,u=l.naturalHeight;if(t.parent("a").css("display","block"),m.css("overflow","hidden"),t.remove(),m.parents().hasClass("carousel-inner"))var d=m.parents(".carousel-inner").width();else var d=m.width();var f,v=d/o*n,h=v/u*c,k=d/c*u;m.css("height",v+"px"),c>u&&k<v||c<u&&h>d?(f=(h-d)/2,g.css({"max-width":"none","max-height":"none",width:"auto",height:"100%",transform:"translateX(-"+f+"px)"})):(f=(k-v)/2,g.css({"max-width":"none","max-height":"none",width:"100%",height:"auto",transform:"translateY(-"+f+"px)"}))})},a(window).on("load",function(){a('[koma-plugin="imageFill"]').each(function(){var r=a(this),e=r.attr("ratio-x"),i=r.attr("ratio-y");e=e||t.ratio_x,i=i||t.ratio_y,r.imageFill({ratio_x:e,ratio_y:i})})})}(jQuery),$(document).ready(function(){$(".koma-gallery").each(function(){var a=$(this),t=a.attr("album-gkoma");void 0==t?$(".koma-gallery").each(function(a){var t=$(this);t.find("img");t.attr("data-index-gkoma",a+1),t.attr("album-gkoma","noset")}):$("[album-gkoma="+t+"]").each(function(a){var t=$(this);t.find("img");t.attr("data-index-gkoma",a+1)})}),$(".koma-gallery").on("click",function(a){a.preventDefault();var t=$(this),r=t.attr("data-image-gkoma"),e=t.attr("data-index-gkoma"),i=t.attr("album-gkoma"),o='<a href="#" album-current-gkoma="'+i+'" data-current-gkoma="'+e+'" class="nav-gKoma  prev-gKoma"><i class="fa fa-chevron-left"></i></a><img src="'+r+'"/><a href="#" album-current-gkoma="'+i+'" data-current-gkoma="'+e+'" class="nav-gKoma next-gKoma"><i class="fa fa-chevron-right"></i></a><a href="#" class="close-gKoma"><i class="fa fa-times"></i></div>';$("body").append('<div class="wrapper-gKoma"><div class="flex-gKoma"><div class="gKoma-center"><div class="box-gKoma"></div></div></div></div>'),$(".wrapper-gKoma").fadeIn(300).find(".box-gKoma").append(o),$(".nav-gKoma").on("click",function(a){a.preventDefault();var t=$(this),r=parseInt(t.attr("data-current-gkoma"))+1,e=t.parents(".box-gKoma"),i=t.attr("album-current-gkoma"),o=e.find("img"),n=$("[album-gkoma="+i+"]").length;if(e.fadeOut(300),t.hasClass("next-gKoma")){if(n>1)if(r-1<n){var s=$("[album-gkoma="+i+"]").eq(r-1).attr("data-image-gkoma");setTimeout(function(){$(".nav-gKoma").attr("data-current-gkoma",r),o.attr("src",s),e.fadeIn(300)},300)}else if(r-1==n){var s=$("[album-gkoma="+i+"]").eq(0).attr("data-image-gkoma");setTimeout(function(){$(".nav-gKoma").attr("data-current-gkoma",1),o.attr("src",s),e.fadeIn(300)},300)}}else if(t.hasClass("prev-gKoma")&&n>1)if(r-1>1){var s=r-1-1,m=$("[album-gkoma="+i+"]").eq(s-1).attr("data-image-gkoma");setTimeout(function(){$(".nav-gKoma").attr("data-current-gKoma",s),o.attr("src",m),e.fadeIn(300)},300)}else if(r-1==1){var s=$("[album-gkoma="+i+"]").eq(n-1).attr("data-image-gkoma");setTimeout(function(){$(".nav-gKoma").attr("data-current-gKoma",n),o.attr("src",s),e.fadeIn(300)},300)}}),$(".close-gKoma").on("click",function(a){a.preventDefault();var t=$(this),r=t.parents(".wrapper-gKoma");r.fadeOut(300),setTimeout(function(){r.remove()},300)})})});