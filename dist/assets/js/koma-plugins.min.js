if("undefined"==typeof jQuery)throw new Error("Koma Image Fill's JavaScript requires jQuery");+function(i){"use strict";var t={ratio_x:1,ratio_y:1,responsive:null};i.fn.imageFill=function(a){var r=i.extend({},t,a),e="koma-imgFill",n=r.ratio_x,o=r.ratio_y;if(null!=r.responsive){var s,l=i(window).width();for(s in r.responsive)if(l<=s){n=r.responsive[s].ratio_x,o=r.responsive[s].ratio_y;break}}return this.each(function(){var t=i(this);t.before('<div ratio-x="'+n+'" ratio-y="'+o+'" class="'+e+'"></div>');var a=t.attr("src"),r=t.attr("alt"),s=t.attr("title");r=r||"",s=s||"",t.siblings("."+e).append('<img src="'+a+'" alt="'+r+'" title="'+s+'">');var l=t.siblings("."+e),h=l.children("img"),c=this,d=c.naturalWidth,u=c.naturalHeight;if(t.parent("a").css("display","block"),l.css("overflow","hidden"),t.remove(),l.parents().hasClass("carousel-inner"))var v=l.parents(".carousel-inner").width();else var v=l.width();var f,m=v/n*o,p=m/u*d,g=v/d*u;l.css("height",m+"px"),d>u&&g<m||d<u&&p>v?(f=(p-v)/2,h.css({"max-width":"none","max-height":"none",width:"auto",height:"100%",transform:"translateX(-"+f+"px)"})):(f=(g-m)/2,h.css({"max-width":"none","max-height":"none",width:"100%",height:"auto",transform:"translateY(-"+f+"px)"}))})},i(window).on("load",function(){i('[koma-plugin="imageFill"]').each(function(){var a=i(this),r=a.attr("ratio-x"),e=a.attr("ratio-y");r=r||t.ratio_x,e=e||t.ratio_y,a.imageFill({ratio_x:r,ratio_y:e})})})}(jQuery);