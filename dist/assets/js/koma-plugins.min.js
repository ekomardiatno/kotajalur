if("undefined"==typeof jQuery)throw new Error("Koma Plugin's JavaScript requires jQuery");+function(a){"use strict";var t={ratio_x:1,ratio_y:1,responsive:null};a.fn.imageFill=function(e){var r=a.extend({},t,e),i="koma-imgFill",n=r.ratio_x,o=r.ratio_y;if(null!=r.responsive){var s,m=a(window).width();for(s in r.responsive)if(m<=s){n=r.responsive[s].ratio_x,o=r.responsive[s].ratio_y;break}}return this.each(function(){var t=a(this);t.before('<div ratio-x="'+n+'" ratio-y="'+o+'" class="'+i+'"></div>');var e=t.attr("src"),r=t.attr("alt"),s=t.attr("title");r=r||"",s=s||"",t.siblings("."+i).append('<img src="'+e+'" alt="'+r+'" title="'+s+'">');var m=t.siblings("."+i),d=m.children("img"),g=this,c=g.naturalWidth,l=g.naturalHeight;if(t.parent("a").css("display","block"),m.css("overflow","hidden"),t.remove(),m.parents().hasClass("carousel-inner"))var f=m.parents(".carousel-inner").width();else var f=m.width();var v,u=f/n*o,h=u/l*c,K=f/c*l;m.css("height",u+"px"),c>l&&K<u||c<l&&h>f?(v=(h-f)/2,d.css({"max-width":"none","max-height":"none",width:"auto",height:"100%",transform:"translateX(-"+v+"px)"})):(v=(K-u)/2,d.css({"max-width":"none","max-height":"none",width:"100%",height:"auto",transform:"translateY(-"+v+"px)"}))})},a(window).on("load",function(){a('[koma-plugin="imageFill"]').each(function(){var e=a(this),r=e.attr("ratio-x"),i=e.attr("ratio-y");r=r||t.ratio_x,i=i||t.ratio_y,e.imageFill({ratio_x:r,ratio_y:i})})})}(jQuery),$(document).ready(function(){$(".gallery-koma").each(function(a){var t=$(this),e=t.find("img"),r=e.attr("src");t.attr("data-image-gKoma",r),t.attr("data-index-gKoma",a+1)}),$(".gallery-koma").on("click",function(a){a.preventDefault();var t=$(this),e=t.attr("data-image-gKoma"),r=t.attr("data-index-gKoma"),i='<a href="#" data-current-gKoma="'+r+'" class="nav-gKoma  prev-gKoma"><i class="fa fa-chevron-left"></i></a><img src="'+e+'"/><a href="#" data-current-gKoma="'+r+'" class="nav-gKoma next-gKoma"><i class="fa fa-chevron-right"></i></a><a href="#" class="close-gKoma"><i class="fa fa-times"></i></div>';$("body").append('<div class="wrapper-gKoma"><div class="flex-gKoma"><div class="gKoma-center"><div class="box-gKoma"></div></div></div></div>'),$(".wrapper-gKoma").fadeIn(300).find(".box-gKoma").append(i),$(".nav-gKoma").on("click",function(a){a.preventDefault();var t=$(this),e=parseInt(t.attr("data-current-gKoma"))+1,r=t.parents(".box-gKoma"),i=$(".gallery-koma").length,n=r.find("img");if(r.fadeOut(300),t.hasClass("next-gKoma")){if(e-1<i){var o=$("[data-index-gKoma="+e+"]").attr("data-image-gKoma");setTimeout(function(){$(".nav-gKoma").attr("data-current-gKoma",e),n.attr("src",o),r.fadeIn(300)},300)}else if(e-1==i){var o=$("[data-index-gKoma=1]").attr("data-image-gKoma");setTimeout(function(){$(".nav-gKoma").attr("data-current-gKoma",1),n.attr("src",o),r.fadeIn(300)},300)}}else if(t.hasClass("prev-gKoma"))if(e-1>1){var o=e-1-1,s=$("[data-index-gKoma="+o+"]").attr("data-image-gKoma");setTimeout(function(){$(".nav-gKoma").attr("data-current-gKoma",o),n.attr("src",s),r.fadeIn(300)},300)}else if(e-1==1){var o=$("[data-index-gKoma="+i+"]").attr("data-image-gKoma");setTimeout(function(){$(".nav-gKoma").attr("data-current-gKoma",i),n.attr("src",o),r.fadeIn(300)},300)}}),$(".close-gKoma").on("click",function(a){a.preventDefault();var t=$(this),e=t.parents(".wrapper-gKoma");e.fadeOut(300),setTimeout(function(){e.remove()},300)})})});